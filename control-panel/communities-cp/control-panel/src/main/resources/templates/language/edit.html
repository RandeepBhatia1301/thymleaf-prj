<div layout:decorate="~{layout}">
    <div layout:fragment="content">
        <section class="content-header">
            <h1>Languages</h1>
        </section>
        <section class="content container-fluid edit-list-box">
            <form th:action="@{/language/update}" th:method="PUT" enctype="multipart/form-data" name="editLanguage"
                  id="editLanguage">
                <div class="row">
                    <div class="col-md-12">

                        <div class="box">
                            <div class="box-header">
                                <!-- /.box-header -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label> language name </label>
                                                <input type="text" class="form-control" name="name" id="name"
                                                       th:value="${languageData.getName()}">
                                                <input type="hidden" class="form-control" name="id" id="id"
                                                       th:value="${languageData.getId()}">
                                                <!--  <input type="hidden" class="form-control" name="filePath" id="filePath"
                                                         th:value="${filePath}">-->
                                            </div>
                                        </div>
                                        <div class="col-md-6 translate-center">
                                            <button type="button" id="translate" class="main-button translate-button">
                                                Validate
                                            </button>
                                        </div>

                                    </div>
                                    <div class="col-md-12">
                                        <div class="col-md-6">
                                            <div class="edit-textarea-box">
                                                <textarea id="jsonInput" autocomplete="off"
                                                          th:text="${content}"
                                                          name="jsonInput"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="edit-scroll-box">
                                                <pre id="json-display"></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="main-button submit m-right-10" name="submitBtn" type="submit">save</button>
                    <a class="cancel-button" href="javascript:void(0);" onclick="history.back();" name="cancel">
                        Cancel </a>
                </div>
            </form>
        </section>
    </div>
    <script layout:fragment="inner-scripts">
        // get JSON
        function getJson() {
            try {
                return JSON.parse($('#jsonInput').val());
            } catch (ex) {
                alert('Wrong JSON Format: ' + ex);
            }
        }

        // initialize
        var editor = new JsonEditor('#json-display', getJson());

        // enable translate button
        $('#translate').on('click', function () {
            editor.load(getJson());
        });

    </script>

</div>


